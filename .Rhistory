num
num*num
unlist(num)*unlist(num)
unlist(num)
as.numeric(unlist(num))*as.numeric(unlist(num))
sum(as.numeric(unlist(num))*as.numeric(unlist(num)))
lapply(atom, fun(x)(element.max$Mass[element.max$Class == atom))
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
library(stringr)
atom <- str_extract_all(C, "[aA-zZ]+")
num <- str_extract_all(C, "[0-9]+")
library(stringr)
atom <- str_extract_all('C', "[aA-zZ]+")
num <- str_extract_all('C', "[0-9]+")
atom
num
v1 <- strsplit(str1, "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
v1 <- strsplit('C1H2O', "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
v1[c(TRUE, FALSE)]
as.numeric(v1[c(FALSE, TRUE)])
v1 <- strsplit('C1H2O1', "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
as.numeric(v1[c(FALSE, TRUE)])
v1 <- strsplit('C1H2O1', "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
v1
atom <- v1[c(TRUE, FALSE)]
class(atom)
atom
element.max$Mass[element.max$Class == atom]
element.max$Mass[element.max$Class == 'C']
element.max$Mass[element.max$Class == 'H']
element.max$Mass[element.max$Class == 'O']
Aatom[1]
atom[1]
element.max$Mass[element.max$Class == atom[1]]
element.max$Mass[element.max$Class == atom[1:2]]
element.max$Mass[element.max$Class == atom[1:length(atom)]]
element.max$Mass[element.max$Class == atom[1:3]]
element.max$Mass[element.max$Class == atom[1:2]]
element.max$Mass[element.max$Class == atom[3]]
element.max$Mass[element.max$Class == c('C','H','O')]
element.max$Mass[element.max$Class == c('C','H')]
element.max$Mass[element.max$Class == c('O','H')]
element.max$Mass[element.max$Class == c('O','H')]
element.max$Mass[element.max$Class == c('O','C')]
element.max$Mass[element.max$Class == c('O','C')]
element.max$Mass[element.max$Class == c('O','C')]
element.max$Mass[element.max$Class == c('o','C')]
element.max$Mass[element.max$Class == 'O']
element.max$Mass[element.max$Class == 'C']
element.max$Mass[element.max$Class == 'H']
element.max$Class == 'H'
element.max$Class == 'O'
element.max$Class == 'C'
element.max$Class == c('C','H','O']
element.max$Class == c('C','H','O')]
element.max$Class == c('C','H','O')
match(atom, element.max$Class)
element.max$Abund.[match(atom, element.max$Class)]
element.max$Mass[match(atom, element.max$Class)]
atom_mass <- element.max$Mass[match(atom, element.max$Class)]
atom_mass
atom_mass*num
class(atom_mass)
unlist(atom_mass)
unlist(atom_mass)*unlist(num)
unlist(atom_mass)*c(1,2,3)
unlist(atom_mass)*as.numeric(unlist(num)))
unlist(atom_mass)*as.numeric(unlist(num))
num
num <- as.numeric(v1[c(FALSE, TRUE)])
num
unlist(atom_mass)*as.numeric(unlist(num))
unlist(atom_mass)*unlist(num)
unlist(atom_mass)*num
atom_mass*num
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O3')
View(element.max)
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O3')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O3')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O3')
print(format(math.pi, '.100f'))
print(format(pi, '.100f'))
print(format(100010.111111, '.100f'))
print(format(100010.111111, '.100f'))
sprintf("%.100f",pi)
sprintf("%.10f",pi)
sprintf("%.10f",accurate_mass())
sprintf("%.10f",accurate_mass)
sprintf("%.10f",111111.111111111)
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O3')
A_M('C1H2O')
length(atm)
length(atmo)
length(atom)
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O')
A_M('C1H2O')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O1')
A_M('C1H2O')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1H2O')
A_M('a')
A_M('al2')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('al2')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('al2')
A_M('C1')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C1')
A_M('C3H6O4')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
A_M('C3H6O4')
source('~/Dropbox/Github/Chembox/Chembox/R/Accurate_Mass.R')
source('~/Dropbox/Github/Chembox/Chembox/R/Molecular_Mass.R')
A_M('C32H66')
A_M('C32H66K1')
A_M('C32H66')
E_iso('C')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('C')
E_Iso('C')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_Iso('c')
E_Iso('C')
E_Iso('K')
E_Iso('Pottasium')
View(element)
E_Iso('Potassium')
source('~/Dropbox/Github/Chembox/Chembox/R/ppm.R')
source('~/Dropbox/Github/Chembox/Chembox/R/Molecular_Mass.R')
M_mass('Na1')
M_mass('C1H2Na1')
M_mass('C1H2Na1K1')
M_mass('C1H2Na1K1H1')
source('~/Dropbox/Github/Chembox/Chembox/R/Molecular_Mass.R')
M_mass('C1H2Na1K1H1')
source('~/Dropbox/Github/Chembox/Chembox/R/Molecular_Mass.R')
M_mass('C1H2Na1K1H1')
M_mass('C24H50Li1')
M_mass('C24H50Na1')
M_mass('C24H50K1')
M_mass('C30H62Li1')
M_mass('C30H62Na1')
M_mass('C30H62K1')
M_mass('C36H74Li1')
M_mass('C36H74Na1')
M_mass('C36H74K1')
M_mass('C7H6O4')
M_mass('C7H6O4Li1')
M_mass('C7H6O4Na1')
M_mass('C7H6O4K1')
M_mass('C14H11O8Li1')
M_mass('C14H11O8Li2')
M_mass('C14H11O8Na2')
M_mass('C14H11O8K2')
M_mass('C14H12O8K1')
M_mass('C14H12O8Na1')
M_mass('C14H12O8Li1')
M_mass('C7H5O4K2')
M_mass('C7H5O4Na2')
M_mass('C7H5O4Li2')
M_mass('C21H18O12Li1')
M_mass('C21H18O12Na1')
M_mass('C21H18O12K1')
M_mass('C21H17O12K2')
M_mass('C21H17O12Na2')
M_mass('C21H17O12Li2')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('C')
E_iso('H')
E_iso('O')
1.1*99.99*99.76
0.11*0.989^6*0.9999^7*0.9976^4
M_mass('C7H7O4')
M_mass('C7H7O4')-0.000548597
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
M_mass('C7H7O4')/2-2*0.000548597
(M_mass('C7H7O4')-2*0.000548597)/2
e
a <- +
a <- "+"
a
as.numaric(a)
as.numeric(a)
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C7H6O4',z = 1, mode = '+')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C7H6O4',z = 1, mode = '+')
I_mass('C7H6O4',z = 1, mode = '-')
I_mass('C7H6O4',z = 1, mode = '--')
I_mass('C7H6O4',z = 2, mode = '-')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C7H6O4',z = 2)
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C7H6O4',z = 2)
I_mass('C7H6O4',z = 2, '+')
I_mass('C7H6O4',z = 2, ion_mode = '+')
I_mass('C7H6O4',z = 2, '+')
I_mass('C7H6O4',z = 2, mode = '+')
I_mass('C7H6O4',z = 2, mode = '-')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C7H6O4',z = 2, mode = '-')
I_mass('C7H6O4',z = 2)
I_mass('C7H6O4',z = 2, mode = '-')
I_mass('C100H55Na23k1',z = 2, mode = '-')
I_mass('C100H55Na23K1',z = 2, mode = '-')
I_mass('C100H55N23K1',z = 2, mode = '-')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C100H55N23K1',z = 2, mode = '-')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
I_mass('C100H55N23K1',z = 2, mode = '-')
M_mass('C7H6O4')
I_mass('C100H55N23K1',z = 2, mode = '-')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
mz('C100H55N23K1',z = 2, mode = '-')
45/2000
E_iso('C')
View(element)
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('C')
E_iso('H')
12+13.003355+1.007825*7
12+13.003355+1.007825*7-0.000548597
0.989*0.11*0.9999^7
0.11*0.9999^7
0.989*0.989*0.9999^7
0.989*0.11*0.9999^7/0.989*0.989*0.9999^7
0.989*0.11*0.9999^7
0.989*0.11*0.9999^7/0.977
0.989*0.11*0.9999^7/(0.989*0.989*0.9999^7)
1.007825*6+1.007825*6
E_iso('O')
1.007825*6+1.007825*6+4*15.994915
12*6+1.007825*6+4*15.994915+13.003355
12*6+1.007825*6+4*15.994915+13.003355-0.000548597
156/2000
E_iso('Cl')
E_iso('C')
E_iso('H')
12 + 1.007825 + 36.965903 + 34.968853*2
0.989*0.9999*0.2423*0.7577^2
0.989*0.9999*0.7577^3
0.137562749826/0.430174558576
0.2423/0.7577^2
M_mass('C1H1Cl3')
24.23/75.77*3
24.23/75.77
24.23*3/75.77
24.23*3/75.77
24.23*4/75.77
1/1.27
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
mz('C3H6', z = 1, mode = '+')
E_iso('C')
E_iso('Cl')
3*24.23*^77.75^2/77.75^3
3*24.23*77.75^2/77.75^3
3*24.23*75.77^2/75.77^3
3*24.23*75.77^2/75.77^3
E_iso('H')
2*2*2
2*2*2
E_iso('C')
E_iso('H')
2*0.11*0.98/0.98^2
12+13.003355+1.007825
prod(10)
factorial(3)
factorial(c(3,3))
v1 <- strsplit('C1H2C1', "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
atom <- v1[c(TRUE, FALSE)]
num <- as.numeric(v1[c(FALSE, TRUE)])
atom
num
count(atom)
atom <- v1[c(TRUE, FALSE)]
num <- as.numeric(v1[c(FALSE, TRUE)])
atom
43/2000
1920/2000
3*24.23*75.77^2/75.77^3
75.77^4/4*24.23*75.77^2
75.77^4/4*24.23*75.77^3
4*24.23*75.77^3/75.77^4
75.77^4/4*24.23*75.77^3
75.77^4/(4*24.23*75.77^3)
1563/2000
v1 <- strsplit('C2H1', "(?<=[A-Za-z])(?=[0-9])|(?<=[0-9])(?=[A-Za-z])", perl = TRUE)[[1]]
atom <- v1[c(TRUE, FALSE)]
num <- as.numeric(v1[c(FALSE, TRUE)])
atom
num
2/2000
factorial(2)
factorial(4)
choose(2,2)
permutations(2,2)
?combn
combn(letters[1:4], 2)
combn(A:B, 2)
combn(letters[1:2], 2)
combn(letters[1:2], 3)
combn(letters[1:2], 1)
choose(2,2)
factorial(2)
factorial(3)
choose(1,4)
choose(4,1)
choose(4,2)
choose(3,2)
factorial(2)
factorial(4)
factorial(2)
combn(4,2)
combn(2,2)
perm = function(n, x) {
return(factorial(n) / factorial(n-x))
}
perm(4,2)
perm(2,2)
comb = function(n, x) {
return(factorial(n) / (factorial(x) * factorial(n-x)))
}
comb(2,2)
comb(4,2)
choose(2+2-1,2)
combn(2+2-1,2)
choose(2+10-1,10)
choose(2+100-1,100)
choose(3, 2) * factorial(2)
4^100
2^100
E_iso('C')
10*0.11*0.989^9/0.989^10
choose(10,2)*0.11*0.11*0.989^9/0.989^10
choose(10,1)*0.11*0.989^9/0.989^10
mz('C100H200Cl3', z = 1, mode = '+')
E_iso('C')
a = E_iso('C')
a
a[1]
a[2]
a[3]
a[4]
class(a)
as.data.frame(a)
a[,1]
a[1,]
a = E_iso('O')
0.2/99.76
100*0.11/98.9
100*0.11/0.989
install.packages('enviPat')
library('enviPat')
envelope('C100', ppm = FALSE, dmz = "get", frac = 1/4, env = "Gaussian",
resolution = 5e+05, plotit = FALSE, verbose = TRUE)
data(isotopes)
data(chemforms)
pattern<-isopattern(
isotopes,
chemforms,
threshold=0.1,
plotit=TRUE,
charge=FALSE,
emass=0.00054858,
algo=1
)
check_several(pattern,dmz=0.001,ppm=FALSE)
data(isotopes);
data(resolution_list);
data(chemforms);
chemforms<-chemforms[1:10];
checked<-check_chemform(
isotopes,
chemforms
);
resmass<-resolution_list[[1]]
centro<-isowrap(
isotopes,
checked,
resmass=resolution_list[[4]],
resolution=FALSE,
nknots=4,
spar=0.2,
threshold=0.1,
charge=1,
emass=0.00054858,
algo=2,
ppm=FALSE,
dmz="get",   # retrieve dm from R=m/dm
frac=1/4,
env="Gaussian",
detect="centroid",
plotit=TRUE
)
data(isotopes);
data(resolution_list);
data(chemforms);
chemforms<-chemforms[1:10];
checked<-check_chemform(
isotopes,
chemforms
);
resmass<-resolution_list[[1]]
centro<-isowrap(
isotopes,
checked,
resmass=resolution_list[[4]],
resolution=FALSE,
nknots=4,
spar=0.2,
threshold=0.1,
charge=1,
emass=0.00054858,
algo=2,
ppm=FALSE,
dmz="get",   # retrieve dm from R=m/dm
frac=1/4,
env="Gaussian",
detect="centroid",
plotit=TRUE
)
E_iso('Cl')
24.23/75.77
646/2000
c(3,1)*c(3,1)
install.packages('roxygen2')
library("roxygen2", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
source('~/Dropbox/Github/Chembox/Chembox/R/Molecular_Mass.R')
M_mass('C1H2')
M_mass('C1H6O1')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('C')
E_iso('Carbon')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('Carbon')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('Carbon')
E_iso('C')
E_iso('Carbon')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
View(element)
element <- read.csv('element.csv',header = T)
element <- as.data.frame(element)
element$Symbol <- as.character(element$Symbol)
element$Name <- toupper(element$Name)
View(element)
is.element(toupper('carbon'), element$Name)
is.element(toupper('Carbon'), element$Name)
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('Carbon')
E_iso('CarbOn')
source('~/Dropbox/Github/Chembox/Chembox/R/Element_Isotope.R')
E_iso('CarBOn')
source('~/Dropbox/Github/Chembox/Chembox/R/Ion_Mass.R')
mz('C7H7O4', z = 1, mode = '+')
mz('C7H7O4', z = 1, mode = '+')
source('~/Dropbox/Github/Chembox/Chembox/R/ppm.R')
ppm(155.03383, 155.03388)
load("/Users/user/Downloads/sysdata.rda")
?save()
Element
element <- read.csv('element.csv',header = T)
View(element)
save(element, element, file="data/dataset.rda")
save(element, file="data/element.rda")
save(element, file="data/dataset.rda")
save(element, file="data/dataset.rda")
save(element, file="data/element.rda")
a = load(file.path(data.path,"element.rda"))
a = load(file.path(/data,"element.rda"))
a = load(file.path(data,"element.rda"))
data("element")
View(element)
View(element)
View(element)
element2 <- read.csv('element.csv',header = T)
View(element2)
source('~/Dropbox/Github/MSbox/R/Ion_Mass.R')
source('~/Dropbox/Github/MSbox/R/Ion_Mass.R')
mz('C7H7O4', z = 1, mode = '+')
source('~/Dropbox/Github/MSbox/R/Element_Isotope.R')
library(MSbox)
library(MSbox)
devtools::install_github("YonghuiDong/MSbox")
library('MSbox')
?E_iso
E_iso('C')
?mz()
?M_mss()
?M_mass()
?ppm
ppm(155.03383, mz('C7H7O4', z = 1, mode = '+'))
library(MSbox)
